<header>
  <h1>
    {{ showMoreCharacters ? 'Side Characters' : 'Choose Your Character!' }}
  </h1>
  <app-birthday-banner (selectCharacter)="selectedCharacter = $event"></app-birthday-banner>
  <app-activities></app-activities>
  <app-legend [showMoreCharacters]="showMoreCharacters" (selectMood)="selectedMood = $event"></app-legend>
  <app-search-bar (searchChange)="onSearchChange($event)"></app-search-bar>
  <div class="button-container">
    <button 
      (click)="toggleCharacters()" 
      class="toggle-more-btn"
      [disabled]="searchTerm.trim().length > 0"
      [class.disabled]="searchTerm.trim().length > 0"
    >
      ðŸ‘¥ View {{ showMoreCharacters ? 'Main Characters' : 'Side Characters' }}
      @if (searchTerm.trim().length > 0) {
        <span class="filter-disabled-text">(Search active)</span>
      }
    </button>
    <button 
      (click)="toggleRetiredCharacters()" 
      class="toggle-retired-btn"
      [disabled]="searchTerm.trim().length > 0"
      [class.disabled]="searchTerm.trim().length > 0"
    >
      {{ showRetiredCharacters ? 'âž– Hide More Characters' : ' âž• Show More Characters' }}
      @if (searchTerm.trim().length > 0) {
        <span class="filter-disabled-text">(Search active)</span>
      }
    </button>
    @if (!showMoreCharacters) {<button 
      (click)="goToStats()" 
      class="show-stats-btn"
    >
      ðŸ“Š Show Stats
    </button>}
  </div>
  
</header>
<app-character-grid [showMore]="showMoreCharacters" [showRetired]="showRetiredCharacters" [searchTerm]="searchTerm" (selectCharacter)="selectedCharacter = $event"></app-character-grid>
<app-character-modal *ngIf="selectedCharacter" [character]="selectedCharacter" (close)="selectedCharacter = null"></app-character-modal>
<app-mood-modal *ngIf="selectedMood" [mood]="selectedMood" [showInactive]="showRetiredCharacters" (close)="selectedMood = null" (selectCharacter)="selectedCharacter = $event"></app-mood-modal>
<button 
  (click)="toggleCharacters()" 
  class="toggle-more-btn"
  [disabled]="searchTerm.trim().length > 0"
  [class.disabled]="searchTerm.trim().length > 0"
>ðŸ‘¥ {{ showMoreCharacters ? 'Main Characters' : 'Side Characters' }}
  @if (searchTerm.trim().length > 0) {
    <span class="filter-disabled-text">(Search active)</span>
  }
</button>
<app-footer-buttons></app-footer-buttons>